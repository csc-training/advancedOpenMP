* First experiment: 8 threads with 8 places; each place is 7 cores
  ----------------

     export OMP_NUM_THREADS=8

     soc1="{0,2,4,6,8,10,12},{14,16,18,20,22,24,26},{28,30,32,34,36,38,40},{42,44,46,48,50,52,54}"
     soc2="{1,3,5,7,9,11,13},{15,17,19,21,23,25,27},{29,31,33,35,37,39,41},{43,45,47,49,51,53,55}"

     export OMP_PLACES="$soc1,$soc2"
     export OMP_PROC_BIND=spread                  
                                             
                            These are core numbers.
                            All even cores #'s are on socket 0, all odd core #'s are on socket 1
                            They are also called proc-ids.
                                          |
                                          v
            '{0,2,4,6,8,10,12},{14,16,18,20,22,24,26},{28,30,32,34,36,38,40},{42,44,46,48,50,52,54}...
              ^             ^
                 1st place.  
                 Threads id 0 on either core 0, core 2, core 4 , ... , or core 12 (on socket 0)

             This list could have been generated by interal notaion:
             export OMP_PLACES='{0,2,4,6,8,10,12}:4:14,{1,3,5,7,9,11,13}:4:14'
                                                  ^  ^
                                (makes 4  places, with stride 14:
                                 take each value in the base and add 14, { 4,16,18,20,22,24,26}
                                 take each value in the base and add 28, {28,30,32,34,36,38,40}
                                 take each value in the base and add 42, {42,44,46,48,50,52,54}
                                )
                                Do the same for the odd-number intervals: {1,3,5,7,9,11,13}:4:14

               
     amask_omp    # since Hyperthreading is not on, kernel view is the default

   1a.) How many cores can each thread float on?  ____  7
   1b.) If you wanted to use the first 24 even cores for 8 threads (3 cores/thread) 
        what would be the interval notation?     ___________________ '{0,2,4}:8:6'



       export OMP_PLACES='{0,2,4,6,8,10,12}:4:14,{1,3,5,7,9,11,13}:4:14'
                  # would {0,4,2,6,8,10,12}:4:14,{1,5,3,7,9,11,13}:4:14   (w.o. quotes) work?  __no
       amask_omp
   

   1c.) What is the pattern? ___________________________ 
        Masks for 7 cores, sequential filling socket 0 first, all evens, then socket 2, all odds. 



* Second experiment: increase to 16 threads
  -----------------
export OMP_NUM_THREADS=16

amask_omp 

   2a.) Are the places "oversubscribed".           ____________________ Yes
   2b.) How are the additional 8 threads assigned? ____________________ Round Robin assignment


* Third experiment:  explore OMP_DISPLAY_ENV
  -----------------
export OMP_NUM_THREADS=4
export OMP_DISPLAY_ENV=TRUE
amask_omp 

   4a.) What does DISPLAY_ENV do?         _________________  Shows setting for environment variables.
   4b.) Set places to something incorrect, and run again e.g.

      e.g. use this incorrect syntax (forgot to separate with commas):
     export OMP_PLACES='{0,1,2,3}{4,5,6,7}{8,9,10,11}{12,13,14,15}{16,17,18,19}{20,21,22,23}'

       What does the OMP_PLACES variable appear to be set at? _________________  defaults to "cores"
